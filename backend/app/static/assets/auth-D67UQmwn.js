const a="https://www.cape-control.com/api";async function n(e){try{const r=await fetch(`${a}/auth/v2/validate-email?email=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("Email validation failed");return await r.json()}catch(r){return console.error("Email validation error:",r),{available:null,reason:"validation_error",message:"Unable to validate email. Please try again."}}}async function i(e){try{const r=await fetch(`${a}/auth/v2/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){const o=await r.json();throw new Error(o.detail||"Registration failed")}return await r.json()}catch(r){throw console.error("Registration error:",r),r}}async function s(e,r){try{const o=await fetch(`${a}/auth/v2/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})});if(!o.ok){const t=await o.json();throw new Error(t.detail||"Login failed")}return await o.json()}catch(o){throw console.error("Login error:",o),o}}export{s as l,i as r,n as v};
