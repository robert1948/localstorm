import{r as d,C as W,j as e,a as E,u as V}from"./index-BLFZl3Tt.js";import{a as Y}from"./index-Dq7h7Pqt.js";function v(){const s=d.useContext(W);return s||(console.warn("useCapeAI: Context not available, returning safe defaults"),{isVisible:!1,messages:[],onboardingStep:0,onboardingData:{profileComplete:!1,featuresViewed:!1,aiIntroduced:!1,dashboardTour:!1,firstAgentLaunched:!1},toggleVisibility:()=>{},addMessage:()=>{},setOnboardingStep:()=>{},updateOnboardingData:()=>{},isInitialized:!1})}function R(){const{onboardingData:s,addMessage:f,toggleVisibility:c}=v(),a=[{id:"profile",label:"✅ Set up your profile",done:s.profileComplete||!1,helpText:"Complete your business profile to get personalized AI recommendations"},{id:"features",label:"📄 Review the platform features",done:s.featuresViewed||!1,helpText:"Learn about our AI agents and how they can help your business"},{id:"assistant",label:"🤖 Meet your AI assistant",done:s.aiIntroduced||!1,helpText:"Chat with CapeAI to get personalized guidance and support"},{id:"dashboard",label:"📈 View your dashboard",done:s.dashboardTour||!1,helpText:"Explore your control center for managing AI agents and analytics"},{id:"agent",label:"🚀 Launch your first agent",done:s.firstAgentLaunched||!1,helpText:"Try out an AI agent to see the platform in action"}],l=o=>{f("assistant",{profile:"Let me help you set up your profile! What type of business are you running?",features:"I'd love to show you our platform features! Which area interests you most: automation, content creation, or data analysis?",assistant:"Hi there! I'm CapeAI, and I'm here to help you succeed on our platform. What questions do you have?",dashboard:"Your dashboard is powerful! Let me give you a quick tour of the key features.",agent:"Ready to launch your first AI agent? I can recommend the best one based on your needs!"}[o.id]),c()},g=a.filter(o=>o.done).length,m=g/a.length*100;return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Getting Started Checklist"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[g,"/",a.length," completed"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m}%`}})}),e.jsx("ul",{className:"space-y-3",children:a.map((o,h)=>e.jsxs("li",{className:`flex items-start gap-3 p-3 rounded-lg border transition-colors cursor-pointer hover:bg-gray-50 ${o.done?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,onClick:()=>l(o),children:[e.jsx("span",{className:"text-xl mt-0.5",children:o.done?"✅":"⬜"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium ${o.done?"text-green-700":"text-gray-800"}`,children:o.label}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:o.helpText})]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Get Help"})]},h))}),m===100&&e.jsxs("div",{className:"mt-4 p-4 bg-green-100 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[e.jsx("span",{className:"text-xl",children:"🎉"}),e.jsx("span",{className:"font-semibold",children:"Congratulations!"})]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"You've completed the onboarding process. You're ready to explore the full power of CapeControl!"})]})]})}const i={welcome:{id:"welcome",title:"Welcome to CapeControl!",description:"Let me help you get started with our AI-powered platform",triggers:["/"],nextStep:"profile",autoTrigger:!0},profile:{id:"profile",title:"Complete Your Profile",description:"Set up your business profile to get personalized recommendations",triggers:["/profile","/"],nextStep:"features",completionCheck:s=>s.profileComplete},features:{id:"features",title:"Explore Platform Features",description:"Learn about our AI agents and capabilities",triggers:["/features","/dashboard"],nextStep:"assistant",completionCheck:s=>s.featuresViewed},assistant:{id:"assistant",title:"Meet Your AI Assistant",description:"Get to know CapeAI and how it can help you",triggers:["*"],nextStep:"dashboard",completionCheck:s=>s.aiIntroduced},dashboard:{id:"dashboard",title:"Explore Your Dashboard",description:"Tour your control center for managing AI agents",triggers:["/dashboard"],nextStep:"agent",completionCheck:s=>s.dashboardTour},agent:{id:"agent",title:"Launch Your First Agent",description:"Try out an AI agent to see the platform in action",triggers:["/agents","/dashboard"],nextStep:"complete",completionCheck:s=>s.firstAgentLaunched},complete:{id:"complete",title:"Onboarding Complete!",description:"You're ready to explore the full power of CapeControl",triggers:[],nextStep:null,completionCheck:()=>!0}};function P(){const s=E(),f=V(),c=v(),[a,l]=d.useState("welcome"),[g,m]=d.useState(!1),[o,h]=d.useState([]);if(d.useEffect(()=>{c&&(r=>{console.log("Route changed:",r)})(s.pathname)},[s.pathname,c]),d.useEffect(()=>{a&&!o.includes(a)&&h(t=>[...t,a])},[a,o]),!c)return{currentStep:"welcome",showContextualHelp:!1,isComplete:!1,getCurrentStepConfig:()=>i.welcome,nextStep:()=>{},previousStep:()=>{},completeStep:()=>{},completeCurrentStep:()=>{},goToStep:()=>{},showStepDialog:!1,setShowStepDialog:()=>{},isStepCompleted:()=>!1,getProgress:()=>({completed:0,total:6,percentage:0}),showContextualMessage:()=>{}};const{onboardingData:x,updateOnboardingData:w,onboardingStep:b,addMessage:N,toggleVisibility:A}=c;b&&a!==b&&l(b);const C=()=>i[a],y=t=>{const r=i[t];return r.completionCheck?r.completionCheck(x):!1},S=()=>{const t=Object.keys(i).length-1,r=Object.keys(i).filter(n=>n!=="complete"&&y(n)).length;return{completed:r,total:t,percentage:Math.round(r/t*100)}},I=(t,r={})=>{const n={...x,...r},u={profile:{profileComplete:!0},features:{featuresViewed:!0},assistant:{aiIntroduced:!0},dashboard:{dashboardTour:!0},agent:{firstAgentLaunched:!0}};u[t]&&Object.assign(n,u[t]),w(n);const p=i[t];p!=null&&p.nextStep&&p.nextStep!=="complete"?l(p.nextStep):(p==null?void 0:p.nextStep)==="complete"&&(l("complete"),N("assistant","🎉 Congratulations! You've completed the onboarding process. You're now ready to explore the full power of CapeControl!"))},k=t=>{const n=Object.values(i).filter(u=>u.triggers.includes(t)||u.triggers.includes("*")).find(u=>!y(u.id)&&u.id!=="complete");n&&n.id!==a&&(l(n.id),n.autoTrigger&&setTimeout(()=>{j(n.id)},1e3))},j=(t=a)=>{if(!i[t])return;const n={welcome:"Welcome to CapeControl! I'm CapeAI, your personal assistant. I'll help you get started with our AI-powered platform. Would you like me to show you around?",profile:"Let's set up your profile first! This helps me provide better, more personalized assistance. What type of business are you running?",features:"Now let me show you our amazing features! We have AI agents for automation, content creation, data analysis, and more. Which area interests you most?",assistant:"Hi there! I'm CapeAI, and I'm here to help you succeed. I can answer questions, provide guidance, and help you make the most of our platform. What would you like to know?",dashboard:"Welcome to your dashboard! This is your command center where you can monitor your AI agents, view analytics, and manage your account. Let me give you a quick tour.",agent:"Ready to launch your first AI agent? I can recommend the best one based on your business needs. What kind of tasks would you like to automate?"};n[t]&&(N("assistant",n[t]),A())},T=()=>{const t=C();t!=null&&t.nextStep&&l(t.nextStep)},D=t=>{i[t]&&(l(t),j(t))},L=()=>{const r={profile:"/profile",features:"/features",dashboard:"/dashboard",agent:"/agents"}[a];r&&s.pathname!==r&&f(r)},O=()=>{l("welcome"),w({profileComplete:!1,featuresViewed:!1,aiIntroduced:!1,dashboardTour:!1,firstAgentLaunched:!1}),h([])},M=()=>a==="complete"||S().percentage===100;return{currentStep:a,currentStepConfig:C(),isComplete:M(),progress:S(),completeStep:I,skipStep:T,goToStep:D,navigateToStepPage:L,resetOnboarding:O,showContextualHelp:j,isStepCompleted:y,triggerStepForRoute:k,showStepDialog:g,setShowStepDialog:m,stepHistory:o,allSteps:i}}function z(){const[s,f]=d.useState(null),[c,a]=d.useState(!0),[l,g]=d.useState(""),{isComplete:m,progress:o}=P();return d.useEffect(()=>{(async()=>{a(!0),g("");try{const x=await Y.get("/api/me");f(x.data)}catch{g("Failed to load user data.")}finally{a(!1)}})()},[]),e.jsxs("div",{className:"max-w-4xl mx-auto mt-20 p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Welcome to Your Dashboard"}),!m&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Getting Started"}),e.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:[o.percentage,"% Complete"]})]}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Complete your onboarding to unlock the full potential of CapeControl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-white border rounded-xl shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"User Information"}),c&&e.jsx("p",{className:"text-blue-500",children:"Loading..."}),l&&e.jsx("p",{className:"text-red-500",children:l}),s&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Name:"}),e.jsx("span",{className:"text-gray-800",children:s.name})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Email:"}),e.jsx("span",{className:"text-gray-800",children:s.email})]}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Status:"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Active"})]})]})]}),e.jsxs("div",{className:"bg-white border rounded-xl shadow p-6 mt-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("button",{className:"bg-blue-600 text-white p-4 rounded-lg hover:bg-blue-700 transition-colors",children:"🚀 Launch New Agent"}),e.jsx("button",{className:"bg-green-600 text-white p-4 rounded-lg hover:bg-green-700 transition-colors",children:"📊 View Analytics"}),e.jsx("button",{className:"bg-purple-600 text-white p-4 rounded-lg hover:bg-purple-700 transition-colors",children:"⚙️ Manage Settings"}),e.jsx("button",{className:"bg-orange-600 text-white p-4 rounded-lg hover:bg-orange-700 transition-colors",children:"💬 Get Support"})]})]})]}),e.jsxs("div",{className:"lg:col-span-1",children:[!m&&e.jsx(R,{}),e.jsxs("div",{className:"bg-white border rounded-xl shadow p-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Account created successfully"]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"Dashboard accessed"]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full"}),"CapeAI assistant activated"]})]})]})]})]})]})}export{z as default};
