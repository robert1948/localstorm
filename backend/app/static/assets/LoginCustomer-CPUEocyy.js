import{r,u as f,a as y,j as e,L as g}from"./index-BLFZl3Tt.js";function v(){var x;const[i,n]=r.useState(""),[d,h]=r.useState(""),[m,o]=r.useState(""),[c,u]=r.useState(!1),b=f(),t=y();r.useEffect(()=>{var s;(s=t.state)!=null&&s.email&&n(t.state.email)},[t.state]);const p=async s=>{s.preventDefault(),o(""),u(!0);try{const a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:d,userType:"customer"})});if(a.ok){const l=await a.json();localStorage.setItem("authToken",l.token),localStorage.setItem("userType","customer"),b("/dashboard/user")}else{const l=await a.json();o(l.message||"Login failed")}}catch{o("Network error. Please try again.")}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-12 w-12 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Customer Login"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Access your AI automation dashboard"})]}),((x=t.state)==null?void 0:x.message)&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-md",children:t.state.message}),e.jsxs("div",{className:"bg-white py-8 px-6 shadow-lg rounded-lg",children:[e.jsxs("form",{className:"space-y-6",onSubmit:p,children:[m&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-md text-sm",children:m}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"username",required:!0,value:i,onChange:s=>n(s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:d,onChange:s=>h(s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?"Signing in...":"Sign in"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Don't have an account?"})})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[e.jsx(g,{to:"/register",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Register as Customer"}),e.jsx(g,{to:"/login-developer",className:"w-full inline-flex justify-center py-2 px-4 border border-purple-300 rounded-md shadow-sm bg-purple-50 text-sm font-medium text-purple-600 hover:bg-purple-100",children:"Developer Login"})]})]})]})]})})}export{v as default};
